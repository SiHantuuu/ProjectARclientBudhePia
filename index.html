<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <title>Interaktif 3D Model</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-orbit-controls@1.3.0/dist/aframe-orbit-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>

    <style>
      /* Style untuk Kotak Penjelasan */
      #info-overlay {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 300px;
        background: rgba(0, 0, 0, 0.85);
        color: white;
        padding: 20px;
        border-radius: 15px;
        font-family: sans-serif;
        display: none; /* Sembunyi saat awal */
        border: 2px solid #00d2ff;
        z-index: 999;
        box-shadow: 0 0 20px rgba(0, 210, 255, 0.5);
      }

      h3 {
        margin-top: 0;
        color: #00d2ff;
      }

      .close-btn {
        background: #ff4444;
        border: none;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        float: right;
        margin-top: -10px;
        font-weight: bold;
      }

      #instruction {
        position: fixed;
        top: 20px;
        width: 100%;
        text-align: center;
        color: white;
        font-weight: bold;
        pointer-events: none;
        text-shadow: 1px 1px 2px black;
      }
    </style>
  </head>
  <body>
    <div id="info-overlay">
      <button class="close-btn" onclick="tutupInfo()">X</button>
      <h3 id="info-title">Judul Objek</h3>
      <p id="info-desc">
        Ini adalah penjelasan detail tentang bagian yang kamu klik.
      </p>
    </div>

    <div id="instruction">ðŸ‘‡ KLIK objek bebek untuk melihat detail</div>

    <a-scene
      vr-mode-ui="enabled: false"
      cursor="rayOrigin: mouse"
      raycaster="objects: .clickable"
    >
      <a-assets>
        <a-asset-item
          id="contoh-glb"
          src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF-Binary/Duck.glb"
        ></a-asset-item>
      </a-assets>

      <a-entity
        environment="preset: starry; groundColor: #1e3f5a; grid: none; lighting: point; skyType: atmosphere; skyColor: #88ccee;"
      ></a-entity>
      <a-circle
        position="0 0.1 0"
        rotation="-90 0 0"
        radius="50"
        color="#006994"
        material="opacity: 0.8; transparent: true"
      ></a-circle>

      <a-entity
        id="model-saya"
        class="clickable"
        gltf-model="#contoh-glb"
        scale="1 1 1"
        position="0 0.5 0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
      >
      </a-entity>

      <a-entity
        camera
        look-controls="enabled: false"
        orbit-controls="target: 0 0.5 0; minDistance: 2; maxDistance: 6; initialPosition: 0 1 4;"
      >
      </a-entity>
    </a-scene>

    <script>
      // Ambil elemen model dan UI
      const model = document.querySelector("#model-saya");
      const infoBox = document.querySelector("#info-overlay");
      const title = document.querySelector("#info-title");
      const desc = document.querySelector("#info-desc");

      // Saat model diklik
      model.addEventListener("click", function () {
        // 1. Ubah isinya (Bisa disesuaikan)
        title.innerText = "Bebek Karet (Contoh)";
        desc.innerText =
          "Ini adalah model .glb contoh. Kamu bisa mengganti file ini dengan 'pelampung.glb' buatanmu. Pelampung digunakan untuk keselamatan di laut.";

        // 2. Tampilkan kotaknya
        infoBox.style.display = "block";

        // 3. Efek visual (sedikit membesar saat diklik biar kerasa)
        model.setAttribute("scale", "1.2 1.2 1.2");
        setTimeout(() => {
          model.setAttribute("scale", "1 1 1");
        }, 200);

        console.log("Objek diklik!");
      });

      // Fungsi tombol tutup
      function tutupInfo() {
        infoBox.style.display = "none";
      }
    </script>
  </body>
</html>
